5.6 Page Scrolling

Прокрутка содержимого страницы способ1 execute_script()

Полоса прокрутки представляет собой тонкую длинную часть на краю диплея компьютера. Используя  полосу
прокрутки, мы можем просматривать весь контент или всю страницу, прокручивая ее вверх-вниз или
влево-вправо с помощью мыши.

Самый простой способ прокрутки страницы по пикселю - это использование метода .execute_script(),
который выполняет код javascript на странице. К примеру, window.scrollBy(0,5000) прокрутит страницу
вниз на 5000 пикселей.

Можете проверить на этом сайта (https://parsinger.ru/scroll/1/) 

window.scrollBy(X,Y);

- X - смещение в пикселях по горизонтали;
- Y - смещение в пикселях по вертикали.

import time
from selenium import webdriver

with webdriver.Chrome() as browser:
  browser.get('http://parsinger.ru/scroll/1/')
  browser.execute_script("window.scrollBy(0,5000)")
  time.sleep(10)

Такой способ имеет свои преимущества, простота использования - одно из них. Недостаток такого способа в
том, что если сайт отдает данные при кажждом скроллинге, вам придется ждать, пока сервер загрузит данные.
К примеру, на степике комменатрии загружаются по 17 шт, и если под степом 170 комментариев, то вам
придется сделать 10 скроллов, чтобы получить их все. Каждая загрузка 17 комментариев занимает приерно
2-3 секунды, соответственно, вам необходимо устанавливать майминги. Самый простой способ сделать это - 
time.sleep(3).

Напишем простой код, который прокрутит страницу в низ.

import time
from selenium import webdriver

with webdriver.Chrome() as browser:
  browser.get('http://parsinger.ru/scroll/1/')
  for i in range(1):
    browser.execute_script("window.scrollBy(0,5000)")
    time.sleep(2)

Мы сделали 10 итераций и не оказались в самом низу страницы. Потому что мы не знаем, сколько пикселей
имеет в высоту наш сайт. Мы можем использовать большие значения, к прмеру, window.scrollBy(0,5000000),
такие большие цифры за один скроллинг способы прокрутить всю страницу. И это то, что вы будете делать,
когда у вас обычный сайт без прогрузки данных.

Представим, что у вас сайт, который имеет разные высоты страницы. Мы можем получить значение высоты
непосредственно той части сайта, которая попадает в область вашей видимости, или значение высоты сайта
полностью.

return document.body.scrollHeight вернёт значение высоты основного элемента на странице - body

import time
from selenium import webdriver

with webdriver.Chrome() as browser:
  browser.get('http://parsinger.ru/scroll/1/')
  height = browser.execute_script("return document.body.scrollHeight")
  time.sleep(2)
  print(height)
